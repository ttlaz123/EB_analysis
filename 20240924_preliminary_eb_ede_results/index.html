<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Early Dark Energy EB spectrum multicomponent analysis</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <!-- Load up MathJax for math notation -->
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
    </script>
    <script type="text/javascript" src="../mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</head>

<body>
    <!-- Add my custom pager script -->
    <script type="text/javascript" src="scripts/pager.js"></script>
    <link rel="stylesheet" type="text/css" href="scripts/pager.css">

    <header>
        <h1>Early Dark Energy EB spectrum multicomponent analysis</h1>

        <time datetime="{{ last_updated | safe }}" class="published updated">
            2024 September 24
        </time> â€”
        Tongtian Liu, Dominic Beck
    </header>

    <hr>

    <section>
        <h2>Introduction</h2>
        <p>{{ introduction }}</p>
    </section>

    <section>
        <h2>Reproducing BK18 Polarization Rotation</h2>
        https://bicep.rc.fas.harvard.edu/bkcmb/analysis_logbook/analysis/20201221_BK18_polrot/

        <figure>
            <img alt="Cold Spot Maps" id="maps" src="#" width="750" height="750" />
            <figcaption>Map pager</figcaption>
            <script type="text/javascript">
                pager.link("#maps",
                    {{ pager_config | safe }}
                );

                pager.setparams(
                    {{ pager_params | safe }}
                );
            </script>
        </figure>
        
    </section>

    <section>
        <h2>Adding Early Dark Energy EB Spectrum</h2>
        

        <figure>
            <img alt="Plot" id="plot" src="#" width="750" height="750" />
            <figcaption>
                Plot Pager
            </figcaption>
            <script type="text/javascript">
                // Function to generate simulation numbers
                function generateSimNumOptions(start, end) {
                    let options = [];
                    for (let i = start; i <= end; i++) {
                        let num = i.toString().padStart(2, '0'); // Format numbers as two digits
                        options.push(`${num}|sim_num${num}`);
                    }
                    return options;
                }
        
                // Generate options for simulation numbers from 0 to 499
                const simNumOptions = generateSimNumOptions(0, 499);
        
                pager.link("#plot",
                    {
                        'Simulation Number|simnum': simNumOptions,
                        'Plot Type|plot': [
                            'Best Fit All Sims|multicomp_bestfit_allsims.png',
                            'BK18 150|real_multicomp_bestfit_BK18_150.png',
                            'BK18 220|real_multicomp_bestfit_BK18_220.png',
                            'BK18 B95|real_multicomp_bestfit_BK18_B95.png',
                            'BK18 B95ext|real_multicomp_bestfit_BK18_B95ext.png',
                            'BK18 K95|real_multicomp_bestfit_BK18_K95.png',
                            'Results|sim_results_multicomp.csv'
                        ]
                    },
                    function (params) {
                        let dirpath = '../';
                        let filename = '';
        
                        if (params.plot === 'sim_results_multicomp.csv') {
                            filename = params.plot;
                        } else {
                            filename = params.plot;
                        }
        
                        let name = dirpath + filename;
                        console.log(name);
                        return name;
                    }
                );
        
                pager.setparams(
                    {
                        'simnum': '00', // Default to the first simulation number
                        'plot': 'multicomp_bestfit_allsims.png'
                    }
                );
            </script>
        </figure>
        
    </section>

    <section>
        <h2>Maps Pager</h2>
        

        <figure>
            <img alt="Cold Spot Maps" id="maps" src="#" width="750" height="750" />
            <figcaption>Map pager</figcaption>
            <script type="text/javascript">
                pager.link("#maps",
                    {{ pager_config | safe }}
                );

                pager.setparams(
                    {{ pager_params | safe }}
                );
            </script>
        </figure>
        
    </section>
    <section>
        <h2>Appendix</h2>
        <p>Path to mat files:</p>
        <pre>{{ appendix | safe }}</pre>
    </section>

</body>

</html>